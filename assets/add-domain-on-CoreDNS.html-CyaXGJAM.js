import{_ as s,c as a,o as n,f as e}from"./app-BfCDUtKQ.js";const i={},l=e(`<h1 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h1><h2 id="host解析设置" tabindex="-1"><a class="header-anchor" href="#host解析设置"><span>Host解析设置</span></a></h2><p>通过修改 <mark>CoreDNS ConfigMap</mark>, 即可实现，无限在values中添加过多的HostAlias</p><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">kubectl</span><span style="color:#98C379;--shiki-dark:#98C379;"> edit</span><span style="color:#98C379;--shiki-dark:#98C379;"> configmap</span><span style="color:#98C379;--shiki-dark:#98C379;"> coredns</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -n</span><span style="color:#98C379;--shiki-dark:#98C379;"> kube-system</span></span></code></pre></div><p><code>host {}</code> 内容，即为自定义域名，且<code>fallthrough</code> 必须配置，否则其他域名将无法解析</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Corefile:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">    .</span><span style="color:#98C379;--shiki-dark:#98C379;">:53</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        errors</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        health</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">          lameduck</span><span style="color:#98C379;--shiki-dark:#98C379;"> 5s</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        ready</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        kubernetes</span><span style="color:#98C379;--shiki-dark:#98C379;"> cluster.local</span><span style="color:#98C379;--shiki-dark:#98C379;"> in-addr.arpa</span><span style="color:#98C379;--shiki-dark:#98C379;"> ip6.arpa</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">          pods</span><span style="color:#98C379;--shiki-dark:#98C379;"> insecure</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">          fallthrough</span><span style="color:#98C379;--shiki-dark:#98C379;"> in-addr.arpa</span><span style="color:#98C379;--shiki-dark:#98C379;"> ip6.arpa</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        hosts</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">         192.168.2.149</span><span style="color:#98C379;--shiki-dark:#98C379;"> harbor.zili.work</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">         192.168.4.14</span><span style="color:#98C379;--shiki-dark:#98C379;"> minio.jkstack.com</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">         fallthrough</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        prometheus</span><span style="color:#98C379;--shiki-dark:#98C379;"> :9153</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        forward</span><span style="color:#98C379;--shiki-dark:#98C379;"> .</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;/etc/resolv.conf&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        cache</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 30</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        loop</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        reload</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        loadbalance</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),o=[l];function r(t,p){return n(),a("div",null,o)}const d=s(i,[["render",r],["__file","add-domain-on-CoreDNS.html.vue"]]),k=JSON.parse(`{"path":"/cloud-native/kubernetes/add-domain-on-CoreDNS.html","title":"CoreDNS 域名添加","lang":"zh-CN","frontmatter":{"title":"CoreDNS 域名添加","icon":null,"order":33,"article":true,"category":["云原生"],"tag":["CoreDNS"],"description":"Host解析设置 通过修改 CoreDNS ConfigMap, 即可实现，无限在values中添加过多的HostAlias host {} 内容，即为自定义域名，且fallthrough 必须配置，否则其他域名将无法解析","head":[["meta",{"property":"og:url","content":"https://docs.lizili.online/cloud-native/kubernetes/add-domain-on-CoreDNS.html"}],["meta",{"property":"og:site_name","content":"lzz's Blog"}],["meta",{"property":"og:title","content":"CoreDNS 域名添加"}],["meta",{"property":"og:description","content":"Host解析设置 通过修改 CoreDNS ConfigMap, 即可实现，无限在values中添加过多的HostAlias host {} 内容，即为自定义域名，且fallthrough 必须配置，否则其他域名将无法解析"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-07T13:03:38.000Z"}],["meta",{"property":"article:author","content":"z"}],["meta",{"property":"article:tag","content":"CoreDNS"}],["meta",{"property":"article:modified_time","content":"2024-10-07T13:03:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"CoreDNS 域名添加\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-07T13:03:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"z\\",\\"url\\":\\"https://docs.lizili.online\\"}]}"]]},"headers":[{"level":2,"title":"Host解析设置","slug":"host解析设置","link":"#host解析设置","children":[]}],"git":{"createdTime":1702302031000,"updatedTime":1728306218000,"contributors":[{"name":"lizili","email":"cn.zili.lee@outlook.com","commits":1}]},"readingTime":{"minutes":0.38,"words":114},"filePathRelative":"cloud-native/kubernetes/add-domain-on-CoreDNS.md","localizedDate":"2023年12月11日","excerpt":"\\n<h2>Host解析设置</h2>\\n<p>通过修改 <mark>CoreDNS ConfigMap</mark>, 即可实现，无限在values中添加过多的HostAlias</p>\\n<div class=\\"language-shell\\" data-ext=\\"shell\\" data-title=\\"shell\\"><pre class=\\"shiki shiki-themes one-dark-pro one-dark-pro vp-code\\" style=\\"background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf\\" tabindex=\\"0\\"><code><span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">kubectl</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> edit</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> configmap</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> coredns</span><span style=\\"color:#D19A66;--shiki-dark:#D19A66\\"> -n</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> kube-system</span></span></code></pre>\\n</div>","autoDesc":true}`);export{d as comp,k as data};
